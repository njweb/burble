!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.burble=n.burble||{})}(this,function(n){"use strict";var e=function(n){var e=[],t=Object.defineProperties({},{give:{value:function(n){t._inject(n,0)},enumerable:!0},take:{value:function(n){if("function"==typeof n)return t._listeners.push(n),n},enumerable:!0},_listeners:{value:[],writable:!0},_complete:{value:function(n){t._listeners.forEach(function(e){e(n)})}},_inject:{value:function(n,e){for(var u=e,r=t._pipeline.length;u<r&&void 0!==n;u+=1)void 0!==t._pipeline[u]&&(n=t._pipeline[u](n));void 0!==n&&t._complete(n)}}}),u={attach:function(n){return e.push(n),u},seal:function(){return Object.defineProperty(t,"_pipeline",{value:e.map(function(n,e){return n(t,e)})}),t}};return u},t=function(n){return function(){return function(e){return n(e)}}},u=function(n){return function(){return function(e){return n(e)?e:void 0}}},r=function(n,e){return function(){return function(t){return e=n(e,t)}}},i=function(n){return function(e,t){n.take(function(n){return e._inject(n,t+1)})}},o=function(n){return function(e,t){var u=function(n){return e._inject(n,t+1)};return function(e){return n(e,u)}}};n.burble=e,n.map=t,n.filter=u,n.scan=r,n.merge=i,n.pump=o,Object.defineProperty(n,"__esModule",{value:!0})});